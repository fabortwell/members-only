<!-- app/views/posts/index.html.erb -->
<div class="max-w-4xl mx-auto mt-8 px-4">
  <div class="flex justify-between items-center mb-8">
    <h1 class="text-3xl font-bold">All Posts</h1>
    <% if user_signed_in? %>
      <%= link_to "New Post", new_post_path, class: "bg-indigo-600 text-white px-4 py-2 rounded-md hover:bg-indigo-700" %>
    <% end %>
  </div>

  <div class="space-y-6">
    <% @posts.each do |post| %>
      <article class="bg-white p-6 rounded-lg shadow-md">
        <h2 class="text-2xl font-bold mb-2"><%= post.title %></h2>
        
        <div class="text-gray-600 mb-4">
          Posted on <%= post.created_at.strftime("%B %d, %Y") %>
          <% if user_signed_in? %>
            by <%= post.user.email %>
          <% end %>
        </div>
        
        <div class="prose">
          <%= post.body %>
        </div>
      </article>
    <% end %>
  </div>
</div>
